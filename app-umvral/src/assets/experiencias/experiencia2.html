<!DOCTYPE html>
<html lang="en">
  <head>
    <title>codevember </title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/feiss/aframe-environment-component/ad57b15d/dist/aframe-environment-component.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v2.1.0/dist/aframe-physics-system.min.js"></script>
  </head>
  <body>
    <a-scene physics>
      <a-assets>
        <a-asset-item id="gun-obj" src="https://cdn.glitch.com/1d750fac-a652-409d-949b-156f935085a2%2Fgun-1NI7Q2_vScX-model.obj?1510641419352"></a-asset-item>
        <a-asset-item id="gun-mtl" src="https://cdn.glitch.com/1d750fac-a652-409d-949b-156f935085a2%2Fgun-1NI7Q2_vScX-materials.mtl?1510641419027"></a-asset-item>
        <audio id="sfx-gun" src="https://cdn.glitch.com/1d750fac-a652-409d-949b-156f935085a2%2Ftrimmed-40MM%20M79%20grenade%20launcher%20single%20shot%20close%20perspective_BLASTWAVEFX_09562.mp3?1510643217955" crossorigin="anonymous" ></audio>
        <img id="orangesrc" src="https://cdn.glitch.com/1d750fac-a652-409d-949b-156f935085a2%2Ff7d31bc38804a89a6b288f718296cc27.jpg?1510638410703" crossorigin="anonymous" />
        <img id="orangebump" src="https://cdn.glitch.com/1d750fac-a652-409d-949b-156f935085a2%2Forangebump1.jpg?1510639083481" crossorigin="anonymous" />
      </a-assets>
      <a-entity id="env1" environment="preset:arches; shadow:true; seed:19; lightPosition: 0.7 0.7 0.7"></a-entity>
      <a-entity id="orange" dynamic-body velocity="0 0 -100000" geometry="primitive: sphere; radius: 0.1" position="0 2 100.2" material="src: #orangesrc; roughness: 0.48; color: #edaa45;" shadow="cast:true;receive:true"></a-entity>
      <a-entity id="gun" sound="src: #sfx-gun; autoplay: false;" obj-model="obj: #gun-obj; mtl: #gun-mtl" position="0 2 -1" shadow rotation="0 90 0"></a-entity>
      <!-- Physics terrain --
      <a-box width="75" height="0.1" depth="75" position="0 -0.05 0" static-body visible="false"></a-box>
      <!-- Blocks row 1 -->

    </a-scene>
  </body>
  <script>
    window.addEventListener('click', function () {
      // METHOD1 - ADD A NEW ORANGE TO SCENE - not working
      // const orange =
      // `<a-entity class="orange" dynamic-body velocity="0 0 -10" geometry="primitive: sphere; radius: 0.1" position="0 2 -2" material="src: #orangesrc; roughness: 0.48; color: #edaa45;" shadow="cast:true;receive:true"></a-entity>`
      // var el = document.createElement('a-entity');
      // AFRAME.scenes[0].appendChild(el);
      // el.innerHTML = orange;
      // el.setAttribute('dynamic-body');

      // METHOD2 - MOVE THE EXISTING ORANGE
      document.querySelector("#orange").body.position.set(0, 2, -1.2);
      document.querySelector("#orange").body.velocity.set(0, 10, -1);
      //document.querySelector("#gun").components.sound.playSound();
    });
  </script>
</html>
