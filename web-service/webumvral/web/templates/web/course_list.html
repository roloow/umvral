{% extends "web/base_page.html" %}
{% load static %}
{% block title %}
Cursos Disponibles
{% endblock %}

{% block content %}
<div class="row">
	<div>
			<a class="btn btn-primary " href="{% url 'web:course_edit' %}">Crear Curso</a>
	</div>
</div>
<br>
<div class="row">
	<div>
		<table id="datatable">
			<thead>
				<tr>
					<th>Nombre</th>
					<th>Descripci√≥n</th>
					<th>Borrar</th>
				</tr>
			</thead>
		</table>	
	</div>
</div>

{% endblock %}

{% block plugin_js %}
<script>
$(document).ready(function() {
		var delete_url = "{% url 'web:course_delete' %}"
    var dt_table = $('#datatable').dataTable({
        order: [[ 0, "asc" ]],
        columnDefs: [
            {
                name: 'name',
                orderable: true,
                searchable: true,
                targets: [0],
								render: function(data, type, row){
									return "<a>"+data+"</a>";
								}
            },
            {
                name: 'description',
                orderable: true,
                searchable: true,
                targets: [1]
            },
            {
                //name: 'delete',
                orderable: false,
                searchable: false,
                targets: [2],
								render: function(data, type, row){
									return "<a class='btn' href='"+delete_url+row[2]+"'>Delete</button>";
								}
						},
						
        ],
        searching: true,
        processing: true,
        serverSide: true,
        stateSave: true,
				ajax: '{% url "web:course_list_json" %}'
    });

});
</script>
<script src="{% static 'web/global/plugins/datatables/datatables.min.js' %}" type="text/javascript"></script>
<script src="{% static 'web/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js' %}" type="text/javascript"></script>
{% endblock %}
