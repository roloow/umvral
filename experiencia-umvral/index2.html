<!DOCTYPE html>
<html>
  <head>
		 <meta http-equiv="content-type" content="text/html; charset=utf-8">
		 <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,user-scalable=no,maximum-scale=1">
    <title>umVRal - Caida Libre</title>
    <meta name="description" content="Hello, World! - A-Frame">
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
		<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.1/dist/aframe-extras.min.js"></script>
		<script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.1.2/dist/aframe-physics-system.min.js"></script>
    <script type="text/jscript"> AFRAME.ASSETS_PATH="./objetos"></script>
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
    <script src="https://cdn.rawgit.com/zcanter/aframe-gradient-sky/master/dist/gradientsky.min.js"></script>
    <script src="https://cdn.rawgit.com/etiennepinchon/aframe-material/master/dist/aframe-material.min.js"></script>

  </head>
  <body>

<a-scene fog="type: linear; color: #FFEBDE; far:195" physics="driver: worker; gravity:-9.81 ; friction:0 ; restitution:0 " >

        <a-assets>
            <a-asset-item id="ground" src="https://cdn.rawgit.com/7ammer/testfiles/master/aframe-ground-physics/floor.dae"></a-asset-item>
        </a-assets>


				<a-entity camera look-controls position="0 100 100" wasd-controls>
						<a-entity cursor								position="0 0 -1"
								geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
								material="color: yellow; shader: flat">
								<a-animation begin="click" easing="ease-in" attribute="scale" dur="150" fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
								<a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1000" fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
						</a-entity>

						<a-animation attribute="position"
									dur="5000"
									easing="linear"
									to="0 5 -3">
						</a-animation>
			</a-entity>

				<!-- Camara Andrés -->
				<!--
				<a-entity id="rig" movement-controls >
					<a-entity camera position="0 2 0"
						look-controls="pointerLockEnabled: true">
						<a-entity cursor
											position="0 0 -1"
											geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02;"
											material="color: #CCC; shader: flat;">
						</a-entity>
					</a-entity>
				</a-entity>
				-->
				<!-- Fin Camara Andrés-->

				<!-- Camara Felipe -->
				<!--
				<a-entity camera look-controls position="0 100 100" wasd-controls>
						<a-entity cursor="fuse: true; fuseTimeout: 1000"
								position="0 0 -1"
								geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
								material="color: yellow; shader: flat">
				 <a-text value="00:00:00" position="-1.5 -1.5 -1.5"material="color: yellow; shader: flat"></a-text>
								<a-animation begin="click" easing="ease-in" attribute="scale" dur="150" fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
								<a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1000" fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
						</a-entity>

						<a-animation attribute="position"
									dur="5000"
									easing="linear"
									to="0 5 -3">
						</a-animation>
			</a-entity>
				-->
				<!-- Fin Camara Felipe-->

			<!-- Parte Felipe -->
			<a-assets>
					<a-asset-item id="camino" src="objetos/entity.gltf"></a-asset-item>
			</a-assets>

			<a-entity id="m100" geometry="primitive: box" position="2.5 100 -15"  scale ="5 1 0.5" value="100 metros" ></a-entity>
			<a-entity id="m35" geometry="primitive: box" position="2.5 35 -15"  scale ="5 1 0.5" value="35 metros" ></a-entity>
			<a-entity id="m15" geometry="primitive: box" position="2.5 15 -15"  scale ="5 1 0.5" value="15 metros"></a-entity>
			<a-entity id="m5" geometry="primitive: box" position="2.5 5 -15"  scale ="5 1 0.5" value="5 metros"></a-entity>

			<a-text position="2 90 -15" scale="5 5 5" name="obj" label="15" color="black" value= "90 m"></a-text>
			<a-text position="2 80 -15" scale="5 5 5" name="obj" label="15" color="black" value= "80 m"></a-text>
			<a-text position="2 70 -15" scale="5 5 5" name="obj" label="15" color="black" value= "70 m"></a-text>
			<a-text position="2 60 -15" scale="5 5 5" name="obj" label="15" color="black" value= "60 m"></a-text>
			<a-text position="2 50 -15" scale="5 5 5" name="obj" label="15" color="black" value= "50 m"></a-text>
			<a-text position="2 40 -15" scale="5 5 5" name="obj" label="15" color="black" value= "40 m"></a-text>
			<a-text position="2 30 -15" scale="5 5 5" name="obj" label="15" color="black" value= "30 m"></a-text>
			<a-text position="2 20 -15" scale="5 5 5" name="obj" label="15" color="black" value= "20 m"></a-text>
			<a-text position="2 10 -15" scale="5 5 5" name="obj" label="15" color="black" value= "10 m"></a-text>

			<a-text position="-7 1 -20" scale="5 5 5" id = "cronometro" color ="black" value="00:00:00"></a-text>
<!--a-sky color="white"></a-sky-->

        <a-cylinder color="black"
           position="2 50.5 -15"
           scale="0.05 100 0.1"
           static-body></a-cylinder>

        <a-sphere id="objeto" color="red"
           position="0 100 -15"
           scale="0.3 0.3 0.3"
           visibility = "false"
           dynamic-body="mass: 10" ></a-sphere>

 <!-- Fin parte Felipe -->

 <!-- Parte Andres -->
 <!--
					<a-entity>
						<a-sphere id="esfera" color="#ddb424"
							 position="5 5 -15"
							 dynamic-body></a-sphere>

						<a-cylinder id="cyl" color="#ddb424"
							 position="-5 10 -15"
							 dynamic-body></a-cylinder>

						<a-box id="box" color="red"
								dynamic-body
								position="0 10 -15"
								height="3"></a-box>
					</a-entity>

					<a-box id="resetbox5" color="green"
							position="-5 0 -10"
							height="2">
					</a-box>
					<a-box id="resetbox10" color="green"
							position="0 0 -10"
							height="2">
					</a-box>
					<a-box id="resetbox15" color="green"
							position="5 0 -10"
							height="2">
					</a-box>
					-->
 <!-- Fin Parte Andres -->

        <a-entity static-body collada-model="#ground"></a-entity>

    </a-scene>
  </body>
</html>
<script>

	var	reset5 	= document.querySelector('#m5');
	var	reset15 = document.querySelector('#m15');
	var	reset35 = document.querySelector('#m35');
	var	reset100 = document.querySelector('#m100');
	var	objeto	 = document.querySelector('#objeto');
	//var	cyl 		= document.querySelector('#cyl');
	//var	box 		= document.querySelector('#box');
	//var	esfera 	= document.querySelector('#esfera') ;

	reset5.addEventListener("click", function(){
		console.log("si!");
		setHeight(5);
	});

	reset15.addEventListener("click", function(){
		setHeight(15);
	});

	reset35.addEventListener("click", function(){
		setHeight(35);
	});

	reset100.addEventListener("click", function(){
		setHeight(100);
	});

	function setHeight(height) {
		dettachDin();
		//esfera.object3D.position.set(5, height, -15);
		//box.object3D.position.set(0, height, -15);
		//cyl.object3D.position.set(-5, height, -15);
		objeto.object3D.position.set(0, height, -15);
		attachDin();
	}

	function dettachDin() {
		//esfera.removeAttribute("dynamic-body");
		//box.removeAttribute("dynamic-body");
		//cyl.removeAttribute("dynamic-body");
		objeto.removeAttribute("dynamic-body");
	}
	function attachDin() {
		//esfera.setAttribute("dynamic-body", "");
		//box.setAttribute("dynamic-body", "");
		//cyl.setAttribute("dynamic-body", "");
		objeto.setAttribute("dynamic-body", "");
	}



</script>
