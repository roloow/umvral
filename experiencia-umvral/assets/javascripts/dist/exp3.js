class Hint{constructor(){this.btn_tooltips=document.querySelector("#btn_tooltips"),this.hint_rectangle=document.querySelector("#hint_rectangle"),this.dom=document.querySelector("#hints"),this.active=!1,this.step=0,this.frig_count=2,this.horno_count=2,this.vol_count=2,this.frig_count_A=2,this.horno_count_A=2,this.changeHintText("Hola, bienvenido a la experiencia N°3 de umVRal: Dilatación Termica. Para comenzar, coloca la mira en la palabra Frigorifico.")}reset(){this.step=1,this.active=!1,this.change_temp=0,this.pos_count=3,this.angle_count=3}fade_in(){let e=this;e.active=!0,e.dom.setAttribute("visible",!0),setTimeout(function(){e.hint_rectangle.setAttribute("animation","property: slice9.opacity; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: 0.7"),e.dom.setAttribute("animation","property: text.opacity; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: 0.8")},500)}fade_out(){let e=this;this.active=!1,setTimeout(function(){e.hint_rectangle.setAttribute("animation","property: slice9.opacity; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: 0"),e.dom.setAttribute("animation","property: text.opacity; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: 0"),setTimeout(function(){e.hint_rectangle.setAttribute("visible","false"),e.dom.setAttribute("visible","false")},1e3)},4e3)}changeHintText(e){this.dom.setAttribute("text",{value:e})}toStep1(){let e=this;0===e.step&&(e.changeHintText("Cambia la temperatura del Frigorico unas "+e.frig_count+" veces, colocando la mira en las temperaturas."),e.step=1)}toStep1A(){let e=this;1===e.step&&(e.changeHintText("Selecciona elementos dentro del Frigorifico unas "+e.frig_count_A+" veces, para ver los elementos y su largo."),e.step=11)}toStep2(){let e=this;11===e.step&&(e.changeHintText("Bien!. Cambia de vista hacia el horno, mirando a tu izquierda la palabra Horno."),e.step=2)}toStep3(){let e=this;2===e.step&&(e.changeHintText("Cambia la temperatura del Horno unas "+e.horno_count+" veces, colocando la mira en las temperaturas."),e.step=3)}toStep3A(){let e=this;3===e.step&&(e.changeHintText("Selecciona elementos dentro del Horno unas "+e.horno_count_A+" veces, para ver los elementos y su largo."),e.step=33)}toStep4(){let e=this;33===e.step&&(e.changeHintText("Super!. Cambia de vista hacia el otro horno, mirando bien a tu derecha la palabra Horno."),e.step=4)}toStep5(){let e=this;4===e.step&&(e.changeHintText("Cambia la temperatura del Horno unas "+e.horno_count+" veces, colocando la mira en las temperaturas."),e.step=5)}toStep6(){let e=this;5===e.step&&(e.changeHintText('Excelente!. Prueba apretando el botón "cambio" para cambiar el objeto visible.'),e.step=6)}toStep7(){let e=this;6===e.step&&(e.changeHintText("Super!. Estas listo para poder disfrutar la experiencia. Para regresar al inicio, mira a la ampolleta triangular sobre el techo."),e.fade_out(),e.step=7)}change_frig(){let e=this;1===e.step&&(e.frig_count--,1===e.frig_count?e.changeHintText("Cambia la temperatura del Frigorico "+e.frig_count+" vez, colocando la mira en las temperaturas."):e.changeHintText("Cambia la temperatura del Frigorico unas "+e.frig_count+" veces, colocando la mira en las temperaturas."),e.frig_count<=0&&e.toStep1A())}change_frig_A(){let e=this;11===e.step&&(e.frig_count_A--,1===e.frig_count_A?e.changeHintText("Selecciona elementos dentro del Frigorifico "+e.frig_count_A+" vez, para ver los elementos y su largo."):e.changeHintText("Selecciona elementos dentro del Frigorifico unas "+e.frig_count_A+" veces, para ver los elementos y su largo."),e.frig_count_A<=0&&e.toStep2())}change_horno(){let e=this;3===e.step&&(e.horno_count--,1===e.horno_count?e.changeHintText("Cambia la temperatura del Frigorico "+e.horno_count+" vez, colocando la mira en las temperaturas."):e.changeHintText("Cambia la temperatura del Frigorico unas "+e.horno_count+" veces, colocando la mira en las temperaturas."),e.horno_count<=0&&e.toStep3A())}change_horno_A(){let e=this;33===e.step&&(e.horno_count_A--,1===e.horno_count_A?e.changeHintText("Selecciona elementos dentro del Horno "+e.horno_count_A+" vez, para ver los elementos y su largo."):e.changeHintText("Selecciona elementos dentro del Horno unas "+e.horno_count_A+" veces, para ver los elementos y su largo."),e.horno_count_A<=0&&e.toStep4())}change_vol(){let e=this;5===e.step&&(e.vol_count--,1===e.vol_count?e.changeHintText("Cambia la temperatura del Frigorico "+e.vol_count+" vez, colocando la mira en las temperaturas."):e.changeHintText("Cambia la temperatura del Frigorico unas "+e.vol_count+" veces, colocando la mira en las temperaturas."),e.vol_count<=0&&e.toStep6())}}hints=new Hint,hints.btn_tooltips.addEventListener("click",function(){hints.fade_in(),pay={student_id:301,experience_id:3,slug:"tutorial",value:!0},this.setAttribute("visible","false")});var boolEsfera=1,sphere=document.querySelector("#sphere"),initHeight=1.5,temp=[200,5e3,1e4,2e4,200,0,-1500,-2730],btn1=document.querySelector("#boton20horno"),btn2=document.querySelector("#boton500horno"),btn3=document.querySelector("#boton1000horno"),btn4=document.querySelector("#boton2000horno"),suelohorno=document.querySelector("#suelohorno"),suelorefri=document.querySelector("#suelorefri"),btn5=document.querySelector("#boton20frigorifico"),btn6=document.querySelector("#boton0"),btn7=document.querySelector("#boton150"),btn8=document.querySelector("#boton273"),btn9=(suelorefri=document.querySelector("#suelorefri"),document.querySelector("#boton-273horno3d")),btn10=document.querySelector("#boton20horno3d"),btn11=document.querySelector("#boton2000horno3d"),btnCambio=document.querySelector("#cambioFigura");class termicObject{constructor(e){this.alpha=e.alpha,this.color=e.color}assignElement(e){return this.alpha=e.alpha,this.color=e.color,!0}}var coef={oro:{alpha:14,color:"#D7C505"},cobre:{alpha:17,color:"#D17813"},plata:{alpha:19,color:"#9D9D9D"},aluminio:{alpha:23,color:"#7E8CA9"},hierro:{alpha:12,color:"#555D6E"}},coef_vol={oro:{alpha:42,color:"#D7C505"},cobre:{alpha:51,color:"#D17813"},plata:{alpha:54,color:"#9D9D9D"},aluminio:{alpha:69,color:"#7E8CA9"},hierro:{alpha:33.3,color:"#555D6E"}};cylinder1=new termicObject(coef.oro),cylinder1.dom=document.querySelector("#cylinder1"),cylinder2=new termicObject(coef.plata),cylinder2.dom=document.querySelector("#cylinder2"),cylinder3=new termicObject(coef.cobre),cylinder3.dom=document.querySelector("#cylinder3"),cylinder4=new termicObject(coef.oro),cylinder4.dom=document.querySelector("#cylinder4"),cylinder5=new termicObject(coef.plata),cylinder5.dom=document.querySelector("#cylinder5"),cylinder6=new termicObject(coef.cobre),cylinder6.dom=document.querySelector("#cylinder6"),volume1=coef_vol.oro,volume1.dom=document.querySelector("#vol1"),volume1.position_org=volume1.dom.getAttribute("position"),volume1.original=volume1.dom.getAttribute("geometry"),volume2=coef_vol.aluminio,volume2.dom=document.querySelector("#vol2"),volume2.position_org=volume2.dom.getAttribute("position"),volume2.original=volume2.dom.getAttribute("geometry");var teleporthorno=document.querySelector("#botonhorno"),teleportfrigorifico=document.querySelector("#botonfrigorifico"),teleport3d=document.querySelector("#botonhorno3d"),teleportinicio=document.querySelector("#panelquimico");function initDom(){cylinder1.dom.setAttribute("color",cylinder4.color),cylinder2.dom.setAttribute("color",cylinder5.color),cylinder3.dom.setAttribute("color",cylinder6.color),cylinder4.dom.setAttribute("color",cylinder4.color),cylinder5.dom.setAttribute("color",cylinder5.color),cylinder6.dom.setAttribute("color",cylinder6.color),$("#CuHorno").setAttribute("value","Cu\n 1.5[m]"),$("#AuHorno").setAttribute("value","Au\n 1.5[m]"),$("#AgHorno").setAttribute("value","Ag\n 1.5[m]"),volume1.dom.setAttribute("color",volume1.color),volume2.dom.setAttribute("color",volume2.color)}function oculatarEtiquetas(){var e=document.querySelectorAll(".etiquetas");for(item of(console.log(e),e))item.setAttribute("visible","false")}function changeLength(e,t){0==t&&(length4=getLength(initHeight,cylinder4,e),length5=getLength(initHeight,cylinder5,e),length6=getLength(initHeight,cylinder6,e),REALlength4=getLengthReal(initHeight,cylinder4,e),REALlength5=getLengthReal(initHeight,cylinder5,e),REALlength6=getLengthReal(initHeight,cylinder6,e),$("#CuHorno").setAttribute("value","Cu\n"+REALlength6+"[m]"),$("#AuHorno").setAttribute("value","Au\n"+REALlength4+"[m]"),$("#AgHorno").setAttribute("value","Ag\n"+REALlength5+"[m]"),cylinder4.dom.setAttribute("animation","property: height; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length4),cylinder5.dom.setAttribute("animation","property: height; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length5),cylinder6.dom.setAttribute("animation","property: height; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length6),cylinder4.dom.setAttribute("animation__pos","property: object3D.position.y; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length4/2),cylinder5.dom.setAttribute("animation__pos","property: object3D.position.y; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length5/2),cylinder6.dom.setAttribute("animation__pos","property: object3D.position.y; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length6/2),console.log(backgroundColor(e,t)),suelohorno.setAttribute("animation__color","property: material.color; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+backgroundColor(e,t))),1==t&&(length1=getLength(initHeight,cylinder1,e),length2=getLength(initHeight,cylinder2,e),length3=getLength(initHeight,cylinder3,e),REALlength1=getLengthReal(initHeight,cylinder1,e),REALlength2=getLengthReal(initHeight,cylinder2,e),REALlength3=getLengthReal(initHeight,cylinder3,e),$("#CuFrigorifico").setAttribute("value","Cu\n"+REALlength3+"[m]"),$("#AuFrigorifico").setAttribute("value","Au\n"+REALlength1+"[m]"),$("#AgFrigorifico").setAttribute("value","Ag\n"+REALlength2+"[m]"),cylinder1.dom.setAttribute("animation","property: height; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length1),cylinder2.dom.setAttribute("animation","property: height; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length2),cylinder3.dom.setAttribute("animation","property: height; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length3),cylinder1.dom.setAttribute("animation__pos","property: object3D.position.y; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length1/2),cylinder2.dom.setAttribute("animation__pos","property: object3D.position.y; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length2/2),cylinder3.dom.setAttribute("animation__pos","property: object3D.position.y; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+length3/2),console.log(backgroundColor(e,t)),suelorefri.setAttribute("animation__color","property: material.color; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+backgroundColor(e,t)))}function getLengthReal(e,t,o){return o/=10,console.log(e+t.alpha*Math.pow(10,-6)*e*o),console.log(t.alpha),e+t.alpha*Math.pow(10,-6)*e*o}function getLength(e,t,o){return oculatarEtiquetas(),console.log(e+t.alpha*Math.pow(10,-6)*e*o),console.log(t.alpha),e+t.alpha*Math.pow(10,-6)*e*o}function changeVolume(e){oculatarEtiquetas(),sphere=volume1.original,cube=volume2.original,vol1_=4/3*Math.PI*Math.pow(sphere.radius,3),vol2_=cube.height*cube.width*cube.depth,console.log("cambio volumen"),newvol1=getVolume(vol1_,volume1,e),newvol2=getVolume(vol2_,volume2,e),changeVolumeCube(newvol2,volume2),changeVolumeSphere(newvol1,volume1)}function getVolume(e,t,o){return e+t.alpha*Math.pow(10,-6)*e*o}function changeVolumeCube(e,t){return cube=t.original,x=cube.width,y=cube.height,z=cube.depth,x_=Math.pow(e*(x*x/(y*z)),1/3),y_=x_*(y/x),z_=x_*(z/x),new_y=y_/2,t.dom.setAttribute("animation__height","property: geometry.height; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+y_),t.dom.setAttribute("animation__width","property: geometry.width; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+x_),t.dom.setAttribute("animation__depth","property: geometry.depth; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+z_),t.dom.setAttribute("animation__pos","property: object3D.position.y; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+new_y),!0}function backgroundColor(e,t){return t_max=temp[3],t_min=temp[7],0==t?(red=Math.round(255*e/t_max),blue=255-red,result="rgb("+red+",0,0)"):(e>0&&(e=0),white=Math.round(255*e/t_min),result="rgb("+white+","+white+",255)"),result}function changeVolumeSphere(e,t){return sphere=t.original,r=sphere.radius,r_=Math.pow(3*e/(4*Math.PI),1/3),t.dom.setAttribute("animation__sphere","property: geometry.radius; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+r_),t.dom.setAttribute("animation__pos","property: object3D.position.y; dir: alternate; dur: 1000; easing: easeInSine; loop: false; to: "+r_),!0}initDom(),teleporthorno.addEventListener("click",function(){$("#cameraWrapper").object3D.position.set(-6,0,0),hints.toStep3()}),teleportfrigorifico.addEventListener("click",function(){hints.toStep1(),$("#cameraWrapper").object3D.position.set(1,0,0)}),teleport3d.addEventListener("click",function(){$("#cameraWrapper").object3D.position.set(5,0,1),hints.toStep5()}),teleportinicio.addEventListener("click",function(){$("#cameraWrapper").object3D.position.set(0,0,3)}),$("#volverInicio").addEventListener("click",function(){$("#cameraWrapper").object3D.position.set(0,0,3)}),btnCambio.addEventListener("click",function(){hints.toStep7(),boolEsfera?($("#vol1").setAttribute("visible","false"),$("#vol2").setAttribute("visible","true"),boolEsfera=0):($("#vol1").setAttribute("visible","true"),$("#vol2").setAttribute("visible","false"),boolEsfera=1)}),cylinder1.dom.addEventListener("click",function(){oculatarEtiquetas(),document.querySelector("#AuFrigorifico").setAttribute("visible",!0),hints.change_frig_A()}),cylinder2.dom.addEventListener("click",function(){oculatarEtiquetas(),document.querySelector("#AgFrigorifico").setAttribute("visible",!0),hints.change_frig_A()}),cylinder3.dom.addEventListener("click",function(){oculatarEtiquetas(),document.querySelector("#CuFrigorifico").setAttribute("visible",!0),hints.change_frig_A()}),cylinder4.dom.addEventListener("click",function(){oculatarEtiquetas(),document.querySelector("#AuHorno").setAttribute("visible",!0),hints.change_horno_A()}),cylinder5.dom.addEventListener("click",function(){oculatarEtiquetas(),document.querySelector("#AgHorno").setAttribute("visible",!0),hints.change_horno_A()}),cylinder6.dom.addEventListener("click",function(){oculatarEtiquetas(),document.querySelector("#CuHorno").setAttribute("visible",!0),hints.change_horno_A()}),btn1.addEventListener("click",function(){changeLength(temp[0],0),hints.change_horno()}),btn2.addEventListener("click",function(){changeLength(temp[1],0),hints.change_horno()}),btn3.addEventListener("click",function(){changeLength(temp[2],0),hints.change_horno()}),btn4.addEventListener("click",function(){changeLength(temp[3],0),hints.change_horno()}),btn5.addEventListener("click",function(){console.log("btn 5"),hints.change_frig(),changeLength(temp[4],1)}),btn6.addEventListener("click",function(){console.log("btn 6"),hints.change_frig(),changeLength(temp[5],1)}),btn7.addEventListener("click",function(){console.log("btn 7"),hints.change_frig(),changeLength(temp[6],1)}),btn8.addEventListener("click",function(){console.log("btn 8"),hints.change_frig(),changeLength(temp[7],1)}),btn9.addEventListener("click",function(){console.log("btn 8"),hints.change_vol(),changeVolume(temp[7])}),btn10.addEventListener("click",function(){console.log("btn 9"),hints.change_vol(),changeVolume(temp[5])}),btn11.addEventListener("click",function(){console.log("btn 10"),hints.change_vol(),changeVolume(temp[3])});