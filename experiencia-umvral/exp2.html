<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>umVRal - Lanzamiento de proyectil</title>
    <meta name="description" content="Experiencia VR de lanzamiento proyectil">
    <script src="assets/javascripts/aframe.min.js"></script>
    <script src="assets/javascripts/aframe-mouse-cursor-component.min.js"></script>
		<script src="assets/javascripts/aframe-physics-system.min.js"></script>
    <script src="assets/javascripts/aframe-material.min.js"></script>
    <script src="assets/javascripts/aframe-extras.min.js"></script>
    <script src="assets/javascripts/moment-with-locales.js"></script>
    <script src="assets/javascripts/aframe-environment-component.min.js"></script>
		<script src="assets/javascripts/aframe-animation-component.min.js"></script> 
		<script src="assets/javascripts/aframe-slice9-component.min.js"></script>
		<!--script src="assets/javascripts/aframe-slice9.js"></script-->
    <script type="text/javascript">
      $ = (sel) => document.querySelector(sel)
      $$ = (sel) => document.querySelectorAll(sel)
      on = (elem, type, hand) => elem.addEventListener(type,hand)
    </script>
  </head>
	<body>

    <a-scene id="source" cursor="rayOrigin: mouse" physics="driver: local; iterations: 100;">
      <a-assets>
        <a-mixin id="image" geometry="height: 2; width: 2"></a-mixin>
        <a-asset-item id="cannon1-obj" src="/objetos/canonobsidiana.obj"></a-asset-item>
        <a-asset-item id="cannon1-mtl" src="/objetos/canonobsidiana.mtl"></a-asset-item>
        <a-asset-item id="repo-obj" src="/objetos/reposera.obj"></a-asset-item>
        <a-asset-item id="repo-mtl" src="/objetos/reposera.mtl"></a-asset-item>
        <a-asset-item id="cannon2-obj" src="/objetos/canonmadera.obj"></a-asset-item>
        <a-asset-item id="cannon2-mtl" src="/objetos/canonmadera.mtl"></a-asset-item>
        <a-asset-item id="cannon3-obj" src="/objetos/canonjade.obj"></a-asset-item>
        <a-asset-item id="cannon3-mtl" src="/objetos/canonjade.mtl"></a-asset-item>
        <a-asset-item id="panel-obj" src="/objetos/panel.obj"></a-asset-item>
        <a-asset-item id="panel-mtl" src="/objetos/panel.mtl"></a-asset-item>
        <a-asset-item id="boton-obj" src="/objetos/botonrojo.obj"></a-asset-item>
        <a-asset-item id="boton-mtl" src="/objetos/botonrojo.mtl"></a-asset-item>
        <a-asset-item id="tele-obj" src="/objetos/tele.obj"></a-asset-item>
        <a-asset-item id="tele-mtl" src="/objetos/tele.mtl"></a-asset-item>
        <a-asset-item id="mesa-obj" src="/objetos/mesa.obj"></a-asset-item>
        <a-asset-item id="mesa-mtl" src="/objetos/mesa.mtl"></a-asset-item>
        <video id="tutorial" src="video/Tutorial.mp4"></video>
        <a-asset-item id="rack-obj" src="/objetos/rack.obj"></a-asset-item>
        <a-asset-item id="rack-mtl" src="/objetos/rack.mtl"></a-asset-item>
        <a-asset-item id="piz-obj" src="/objetos/pizarra.obj"></a-asset-item>
        <a-asset-item id="piz-mtl" src="/objetos/pizarra.mtl"></a-asset-item>
      </a-assets>
      <!-- Inicio de Controles -->
			<a-button id="btn_tooltips" color="blue" position="-2 1 -3" value="Tutorial"></a-button>
      <a-entity id="camWrapper" position="0 0 3" rotation="0 +20 0">
        <a-entity id="cam" camera look-controls wasd-controls>
					<!-- tooltips -->
					<a-entity id="tooltips">
						<a-entity id="hint_rectangle" slice9="width: 1; height: 0.3; left: 20; right: 43; top: 20; bottom: 43; src: assets/images/tooltip.png; transparent: true; opacity: 0;" position="0.04 0.44 -1.3"></a-entity>
						<a-entity material="opacity: 0;" id="hints" text="font: assets/fonts/Roboto-Regular-msdf.json; fontImage: assets/fonts/Roboto-Regular.png; negate: false; color: white; width: 0.8; wrap-pixels: 800; opacity: 0" position="0.06 0.41 -1.2" visible="false"></a-entity>
					</a-entity>
					<!-- fin tooltips -->
          <a-entity id="selector" cursor="fuse: true; fuseTimeout: 600"
              position="0 0 -1"
              geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02"
              material="color: black; shader: flat">
              <a-animation begin="click" easing="ease-in" attribute="scale" dur="150" fill="forwards" from="0.1 0.1 0.1" to="1 1 1"></a-animation>
              <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" dur="1000" fill="backwards" from="1 1 1" to="0.1 0.1 0.1"></a-animation>
            </a-entity>
        </a-entity>
      </a-entity>
      <!-- Fin de Controles -->
      <!-- Environment -->
      <a-entity id="env" environment="active: true; preset: egypt; skyType: atmosphere; ground: hills; playArea: 1.2 ;dressing:stones; dressingAmount: 20; fog: 0.5;lightPosition:0 4.65 -1;"></a-entity>
      <!--a-entity id="env" environment="active:true;preset:egypt;skyType:atmosphere;playArea:1.2;dressingAmount:20;fog:0.5;seed:26;skyColor:#1b7660;horizonColor:#e4b676;lightPosition:0 4.65 -1;groundYScale:5;groundTexture:walkernoise;groundColor:#a8785a;groundColor2:#875e47;dressing:stones;dressingColor:#7c5c45;dressingScale:4;dressingVariance:20 20 20;grid:spots;gridColor:#e4b676;shadowSize:20" visible=""><a-entity class="environment" position="0 50 0" light="type:hemisphere;color:#CEE4F0;intensity:0.5888241556472172;groundColor:#a8785a" visible=""></a-entity><a-entity class="environment" position="0 4.65 -1" light="intensity:0.5888241556472172;shadowCameraLeft:-20;shadowCameraBottom:-20;shadowCameraRight:20;shadowCameraTop:20" visible=""></a-entity><a-entity rotation="-90 0 0" class="environmentGround environment" visible="" scale="1 1 5" shadow="cast:false;receive:false"></a-entity><a-entity class="environmentDressing environment" visible=""></a-entity><a-sky radius="200" geometry="" theta-length="110" class="environment" material="shader:skyshader;sunPosition:0 0.9776483112944344 -0.21024694866546975" visible=""></a-sky><a-entity id="stars"></a-entity></a-entity>
      <!-- /Environment -->

      <!-- Bola de cañon -->
			<a-entity id="orange"
								dynamic-body
								geometry="primitive: sphere; radius: 0.2"
								material="color: orange; shader: flat"
								raycaster="showLine: false; objects: .blanco; useWorldCoordinates: false; origin: 0, 0, 0; direction: 0, 0, +1; far: 0.8; interval: 10"
								position="0 -4 -4">
			</a-entity>
      <!-- /Bola de cañon -->

      <!-- Tele OBJ-->
      <a-entity obj-model="obj: #tele-obj; mtl: #tele-mtl" scale="0.030 0.03 0.03" position="-0.7 1.5 7.5" rotation="270 0 180"></a-entity>
      <a-entity obj-model="obj: #mesa-obj; mtl: #mesa-mtl" scale="0.030 0.03 0.03" position="-0.7 0 7.5" rotation="270 0 180"></a-entity>
      <!-- /Tele OBJ-->

      <!-- Video -->
      <a-video src="#tutorial" width="1.6" height="0.9" position="-0.7 2.7 7.4" material="" geometry="" rotation="0 180 0" scale="1.6 1.55 1.56"></a-video>
      <a-button id="playTV" position="-0.15 2.67 7.37" rotation="0 180 0" name="play"  value="Tutorial"></a-button>
      <!-- /Video-->


      <!--a-entity id="shoot" class="cannon" obj-model="obj: #boton-obj; mtl: #boton-mtl" scale="0.00005 0.00005 0.00005" rotation="0 -20 0" position="1.7 1 1.1"></a-entity-->
      <a-entity id="shoot" class="cannon" obj-model="obj:/objetos/botonrojo.obj;mtl:/objetos/botonrojo.mtl" scale="0.00005 0.00005 0.00005" rotation="0 -20 0" position="0.985 1.0 1.054"></a-entity>
      <!--a-entity  obj-model="obj: #panel-obj; mtl: #panel-mtl" scale="0.01 0.01 0.01" rotation="-90 -20 0" position="1.5 0 1"></a-entity-->
      <a-entity obj-model="obj:/objetos/panel.obj;mtl:/objetos/panel.mtl" scale="0.01 0.01 0.01" rotation="-90 -20 0" position="1 -0.2 1"></a-entity>
      <!-- Cañon -->
			<a-entity id="cannons">
				<a-entity id="cannonL1" class="cannon" obj-model="obj: #cannon1-obj; mtl: #cannon1-mtl" scale="0.0008 0.0008 0.0008" rotation="130 0 0" position="0.368 1.288 -3.966"></a-entity>
				<a-entity id="cannonL2" class="cannon" visible="false" obj-model="obj: #cannon2-obj; mtl: #cannon2-mtl" scale="0.0008 0.0008 0.0008" rotation="130 0 0" position="0.368 1.288 -3.966"></a-entity>
				<a-entity id="cannonL3" class="cannon" visible="false" obj-model="obj: #cannon3-obj; mtl: #cannon3-mtl" scale="0.0008 0.0008 0.0008" rotation="130 0 0" position="0.368 1.288 -3.966"></a-entity>
				<a-entity id="repo" obj-model="obj: #repo-obj; mtl: #repo-mtl" scale="0.00001 0.00001 0.00001" rotation="-90 180 0" position="0 0 -3"></a-entity>
			</a-entity>

      <a-button id="start" scale="0.5 0.6 0.6" button-color="red" position="-0.30 1.8 0.8" rotation="0 0 0" name="velocidad1" value="EMPEZAR" button=""><a-sound key="aframeButtonClickSound" sfx="true" src="#aframeButtonClick" sound="" position="0 2 5"></a-sound><a-sound key="aframeButtonClickDisabledSound" sfx="true" src="#aframeButtonClickDisabled" sound="" position="0 2 5"></a-sound><a-entity position="0 0 0.01"><a-image height="0.44999999999999996" geometry="" src="#aframeButtonShadow" material="" width="1.3820372670807453" position="0.5906142167011732 0 0"></a-image><a-rounded height="0.36" rounded="" radius="0.03" position="0 -0.18 0.01" color="red" width="1.1812284334023464"><a-entity text="align:center;wrapCount:10;width:1;value:EMPEZAR" position="0.5906142167011732 0.18 0.02"></a-entity></a-rounded></a-entity></a-button>
      <a-button id="v1" scale="0.2 0.3 0.3" position="0.716 1.20 0.954" rotation="0 -20 0" name="velocidad1"  value="\"></a-button>
      <a-button id="v2" scale="0.2 0.3 0.3" position="0.918 1.200 1.022" rotation="0 -20 0" name="velocidad2"  value="|"></a-button>
      <a-button id="v3" scale="0.2 0.3 0.3" position="1.120 1.200 1.09" rotation="0 -20 0" name="velocidad3"  value="/"></a-button>

      <a-button id="h1" scale="0.2 0.3 0.3" position="0.716 0.80 0.954" rotation="0 -20 0" name="velocidad1"  value="30"></a-button>
      <a-button id="h2" scale="0.2 0.3 0.3" position="0.918 0.80 1.022" rotation="0 -20 0" name="velocidad2"  value="45"></a-button>
      <a-button id="h3" scale="0.2 0.3 0.3" position="1.120 0.80 1.09" rotation="0 -20 0" name="velocidad3"  value="60"></a-button>



      <!-- /Cañon -->

      <!-- rack -->
      <a-entity obj-model="obj: #rack-obj; mtl: #rack-mtl" scale="0.01 0.01 0.01" rotation="-90 -45 0" position="7 0 6"></a-entity>
      <!-- /rack -->

      <!-- Cañones a seleccionar -->
      <a-entity id="cannon3" obj-model="obj: #cannon3-obj; mtl: #cannon3-mtl" scale="0.0008 0.0008 0.0008" rotation="90 -5 0" position="7 1.2 6"></a-entity>
      <a-entity id="cannon2" obj-model="obj: #cannon2-obj; mtl: #cannon2-mtl" scale="0.0008 0.0008 0.0008" rotation="90 -5 0" position="7.25 1.9 6"></a-entity>
      <a-entity id="cannon1" obj-model="obj: #cannon1-obj; mtl: #cannon1-mtl" scale="0.0008 0.0008 0.0008" rotation="90 -5 0" position="7.5 2.6 6"></a-entity>
      <!-- /Cañones a seleccionar -->

      <!-- Plano   -->
      <a-plane id="plano" class="blanco" static-body position="0 -0.01 -4" rotation="-90 0 0" width="300" height="300" color="#7BC8A4" shadow></a-plane>
      <!-- /Plano -->

      <!-- Blanco -->
				<!--a-cylinder id="target-1" class="blanco" src="assets/exp2/targettexture.jpg" position="0 0 0 radius="0.8" height="0.1" rotation="90 20 0"
				></a-cylinder-->
				<a-cylinder id="target0" visible="false" class="blanco" src="assets/exp2/targettexture.jpg" position="0 0 0" radius="0.8" height="0.1" rotation="90 0 0"
				></a-cylinder>
				<!--a-cylinder id="target1" class="blanco" src="assets/exp2/targettexture.jpg" position="0 0 0" radius="0.8" height="0.1" rotation="90 -20 0"
				></a-cylinder-->
        <a-text id="targetPosition" position="0 5 -24" ></a-text>
      <!-- /Blanco -->


      <!-- Pizarra OBJ-->
      <a-entity obj-model="obj: #piz-obj; mtl: #piz-mtl" scale="0.015 0.015 0.015" position="-5.05 0 3" rotation="-90 90 0"></a-entity>

      <!-- /Pizarra OBJ-->

      <!-- Pizarra >
      <a-plane id="pizarra" width="4" height= "3" rotation="0 90 0" position="-5 3 3" color= "white" ></a-plane-->
      <a-text id="textoPizarraEnBlanco"
              value="Ecuaciones que describen el movimiento: \n x(t)= Vxt + x0 \n y(t)=-g(t^2)/2+Vyt \n Vx: velocidad en eje x \n Vy: velocidad en eje y"
              width="4"
              height = "3"
              position="-5 3.5 4.95"
              rotation="0 90 0"
              color="white"
              text="anchor: align; align: left; baseline: top"
              >
      </a-text>

      <a-text id="textoPizarra30grados"
            value="Ecuaciones que describen el movimiento: \n x(t)= vt(set(30)) + x0 \n y(t)= -9.81(t^2)/2 + vt(cos(30)) + y0 \n sen(30)=0.5 \n cos(30)=0.866 "
            height = "3"
            width="4"
            position="-5 3.5 4.95"
            rotation="0 90 0"
            color="white"
            visible='false'
            text="anchor: align; align: left; baseline: top"
            >
      </a-text>


      <a-text id="coordenadastarget"
            value="coordenadas target "
            height = "3"
            width="4"
            position="-5 2.5 4.95"
            rotation="0 90 0"
            color="white"

            text="anchor: align; align: left; baseline: top"
            >
      </a-text>

      <a-text id="indicadorcoordenadas"
            value=""
            height = "7"
            width="7"
            position="0 5 -6"
            rotation="0 0 0"
            color="black"
            visible="false"
            text="anchor: align; align: center; baseline: top"
            >
      </a-text>

      <a-text id="textoPizarra45grados"
            value="Ecuaciones que describen el movimiento: \n x(t)= vt(set(45)) + x0 \n y(t)= -9.81(t^2)/2 + vt(cos(45)) + y0 \n sen(45)= 0.707 \n cos(45)= 0.707"
            height = "3"
            width="4"
            position="-5 3.5 4.95"
            rotation="0 90 0"
            color="white"
            visible='false'
            text="anchor: align; align: left; baseline: top"
            >
      </a-text>

      <a-text id="textoPizarra60grados"
            value="Ecuaciones que describen el movimiento: \n x(t)= vt(set(60)) + x0 \n y(t)= -9.81(t^2)/2 + vt(cos(60)) + y0 \n sen(60)=0.866 \n cos(60)=0.5 "
            height = "3"
            width="4"
            position="-5 3.5 4.95"
            rotation="0 90 0"
            color="white"
            visible='false'
            text="anchor: align; align: left; baseline: top"
            >
      </a-text>


      <a-button id="alfa1" position="-5 1.1 4.5" rotation="0 90 0" button="name: 30grados; value: 30°; color: #f8faff; buttonColor: #858787"></a-button>
      <a-button id="alfa3" position="-5 1.1 2.5" rotation="0 90 0" button="name: 60grados; value: 60°; color: #f8faff; buttonColor: #858787"></a-button>
      <a-button id="alfa2" position="-5 1.1 3.5" rotation="0 90 0" button="name: 45grados; value: 45°; color: #f8faff; buttonColor: #858787"></a-button>
      <!-- /Pizarra -->
    </a-scene>
	</body>
	<script type="text/javascript" src="assets/javascripts/dist/exp2_v2.js"></script>
</html>
